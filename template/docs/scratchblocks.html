<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>scratchblocks example</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

</head>

<body>
  <h1> Scratch blocks! </h1>

  <div>
    <span class="blokje">
        when flag clicked
        clear
      </span>
    </div>
    <div>
      <span class="blokje">
        when flag clicked
        herhaal
        move (hurray) steps
      </span>
  </div>
</body>

<script src="https://scratchblocks.github.io/js/scratchblocks-v3.3-min.js"></script>
<script src="https://scratchblocks.github.io/js/translations-all-v3.3.js" charset="utf8"></script>

<script>  

  function parseBlocks(codeBlock) {
    var doc
    var docView
    var svg

    // Parse the source code
    doc = scratchblocks.parse(codeBlock.innerHTML, {languages: ['en','nl']})
    
    // // Create a DocView with your chosen style
    docView = scratchblocks.newView(doc, {
      style: 'scratch3', // Or 'scratch2'
    })
    
    // Render to an SVG
    svg = docView.render()
    
    // Scratch 3 is zoomed out by default, so you probably want to do the same
    svg.style.transform = 'scale(0.675)';
    
    // Add that SVG to your page, etc
    svg.style.transformOrigin = '0 0';

    return svg
  } 


  var codeblocks = document.getElementsByClassName("blokje")
  var parsedBlock
  for (i = 0; i < codeblocks.length; i++) {
    parsedBlock = parseBlocks(codeblocks[i])
    codeblocks[i].innerHTML = ""
    codeblocks[i].appendChild(parsedBlock)
  }
  
</script>
</html>